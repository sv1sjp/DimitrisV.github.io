<!doctype html><html lang=en><head><title>War Of Array :: Dimitris Vagiakakos SV1SJP</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="On this challenge, we have the smart-contract WarOfArray and we are requested to claim the ownership of the contract, and then add 2 numbers on the &amp;ldquo;myArray&amp;rdquo; array. Using Remix IDE from remix.ethereum.org is recommended on this challenge.
// SPDX-License-Identifier: GPL-3.0-or-later pragma solidity 0.8.18; contract WarOfArray { uint[] public myArray; address public owner; constructor() { owner = address(0x1234567890123456789012345678901234567890); } function addToMyArray(uint _value) public { require(msg.sender == owner, &amp;#34;Only the contract owner can add to the array&amp;#34;); myArray."><meta name=keywords content="decentralized"><meta name=robots content="noodp"><link rel=canonical href=/blockchain_writeups/warofarray/><link rel=stylesheet href=/styles.css><link rel="shortcut icon" href=/favicon.ico><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="War Of Array"><meta property="og:description" content="On this challenge, we have the smart-contract WarOfArray and we are requested to claim the ownership of the contract, and then add 2 numbers on the &amp;ldquo;myArray&amp;rdquo; array. Using Remix IDE from remix.ethereum.org is recommended on this challenge.
// SPDX-License-Identifier: GPL-3.0-or-later pragma solidity 0.8.18; contract WarOfArray { uint[] public myArray; address public owner; constructor() { owner = address(0x1234567890123456789012345678901234567890); } function addToMyArray(uint _value) public { require(msg.sender == owner, &amp;#34;Only the contract owner can add to the array&amp;#34;); myArray."><meta property="og:url" content="/blockchain_writeups/warofarray/"><meta property="og:site_name" content="Dimitris Vagiakakos SV1SJP"><meta property="og:image" content="/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:published_time" content="2023-03-04 00:00:00 +0000 UTC"></head><body class=lime><div class="container center"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>Dimitris Vagiakakos SV1SJP</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;â–¾</li><li><ul class=menu__dropdown><li><a href=/whoami>$whoami</a></li><li><a href=/about>About TuxHouse</a></li><li><a href=/blockchain_camera>Blockchain Camera</a></li><li><a href=/blockchain_writeups>Blockchain WriteUps</a></li><li><a href=/greek_articles>Greek Articles</a></li><li><a href=https://fosstodon.org/@sv1sjp>micro-blogging</a></li><li><a href=/panellinies_aepp/index.html>Panellinies_AEPP</a></li><li><a href=/projects>Projects</a></li><li><a href=/ubuntel>Ubuntel</a></li><li><a href=https://odysee.com/@TuxHouse:1>Videos</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/whoami>$whoami</a></li><li><a href=/about>About TuxHouse</a></li><li><a href=/blockchain_camera>Blockchain Camera</a></li><li><a href=/blockchain_writeups>Blockchain WriteUps</a></li><li><a href=/greek_articles>Greek Articles</a></li><li><a href=https://fosstodon.org/@sv1sjp>micro-blogging</a></li><li><a href=/panellinies_aepp/index.html>Panellinies_AEPP</a></li><li><a href=/projects>Projects</a></li><li><a href=/ubuntel>Ubuntel</a></li><li><a href=https://odysee.com/@TuxHouse:1>Videos</a></li></ul></nav></header><div class=content><article class=post><h1 class=post-title><a href=/blockchain_writeups/warofarray/>War Of Array</a></h1><div class=post-meta><time class=post-date>2023-03-04</time><span class=post-author>Dimitris Vagiakakos</span><span class=post-reading-time>3 min read (561 words)</span></div><div class=post-content><div><p>On this challenge, we have the smart-contract WarOfArray and we are requested to claim the ownership of the contract, and then add 2 numbers on the &ldquo;myArray&rdquo; array.
Using Remix IDE from remix.ethereum.org is recommended on this challenge.</p><pre tabindex=0><code>// SPDX-License-Identifier: GPL-3.0-or-later
pragma solidity 0.8.18;

contract WarOfArray {
  uint[] public myArray;
  address public owner;

  constructor() {
    owner = address(0x1234567890123456789012345678901234567890);
}


  function addToMyArray(uint _value) public {
    require(msg.sender == owner, &#34;Only the contract owner can add to the array&#34;);
    myArray.push(_value);
  }

  function isOwner() public view returns (bool) {
    return (msg.sender == owner);
  }

  function hasTwoElements() public view returns (bool) {
    require(msg.sender == owner, &#34;Only the contract owner can check the array length&#34;);
    return (myArray.length &gt;= 2);
  }

  function changeOwnership(address newOwner) public {
    owner = newOwner;
}
}
</code></pre><hr><h3 id=how-to-deploy-warofarray>How to deploy WarOfArray?<a href=#how-to-deploy-warofarray class=hanchor arialabel=Anchor>&#8983;</a></h3><p>Paste this smart-contract as a new contract to Remix IDE with the name WarOfArray. Then, on the third tab, click compile and then, in the fourth tab, click deploy in any testnet or directly via browser.</p><p>Remix, is the official online IDE provided by Ethereum.org and it is used to create and deploy Ethereum smart contracts using Solidity programming language. It is one of the tools that helped us to deploy our attacks to other smart-contracts or to call contract functions. It has several built-in Solidity compiler versions andit runs through the web browser. Furthermore, it is used to provide a connection with Web3.js to interact with wallets like Metamask in Ethereum Mainet or Testnets.</p><hr><p>First of all, let&rsquo;s talk about the constructor. Constructor is an optional function and is used to initialize state variables of a contract. State variables are variables whose values are permanently stored in smart-contract&rsquo;s storage. We have to mention here that each contract can have only one constructor. A constructor code is executed once when a contract is created and it is used to initialize contract state. After a constructor code executed, the final code is deployed to blockchain.
On this smart-contract, constructor sets a specific address as the owner of this smart-contract.
Furthermore, we can see an array and some functions. However, in order to call them. being the owner is required. But not all of those.</p><p>Unfortunately, the developer of this smart-contract created by mistake a function changeOwnership(address), which as it is public, everyone can call it and then gain ownership. Using Remix IDE, we can very easily, copy our wallet&rsquo;s public address and then paste it on the changeOwnership() field and then press the button.</p><p>Then, we call the function isOwner() by clicking the button from Remix, and this time, it returns &ldquo;TRUE&rdquo;. Now we own this smart-contract.</p><p>As we own the smart-contract right now, we can call any function which requires ownership (msg.sender == owner). So all we have to do now is just add 2 numbers on the array by calling the function &ldquo;addToArray()&rdquo;.</p><p>Then, we call the function &ldquo;hasTwoElements(): and it returns &ldquo;TRUE&rdquo; and we have successfully finished the challenge.</p><p>This challenge was a pretty easy one, however it is a nice motivation to try to use Remix IDE to audit and exploit vulnerabilites in smart-contracts.</p><hr><p>If you want to learn more about Smart Contract Security, please check our paper and eCourses:</p><h2 id=smart-contract-security>Smart-Contract Security:<a href=#smart-contract-security class=hanchor arialabel=Anchor>&#8983;</a></h2><ul><li><a href="https://www.youtube.com/playlist?list=PLZa7COjIxKWzLcMxI9cRNSzOtdR0xvXB7">Smart Contract Security - Educational eLearning Series in Greek on YouTube - Click Here</a></li><li><a href="https://odysee.com/@TuxHouse:1/Ethereum-Hacking-Series-%28Greek%29:b?r=D1QgYeP81GoKPkW5T1jP96zxGA4GMfho&amp;lid=b0b540e62d96ed2811b776519fc460617e4c40747">Smart Contract Security - Educational eLearning Series in Greek on LBRY - Click Here</a></li></ul></div></div></article></div><footer class=footer><a rel=me href=https://fosstodon.org/@sv1sjp></a><div class=footer__inner><div class="copyright copyright--user"><span>All rights reserved, TuxHouse Educational Technologies - Dimitris LinuxOS - 2011-2023</span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div></body></html>